# link-up

<div align="center">
<img src="image/01.png" alt="link-up" width="180" height="180">

### ä¼ä¸šçº§æ•°æ®åŒæ­¥å·¥å…·

*LinkUp æ˜¯ä¸€æ¬¾å¼€ç®±å³ç”¨çš„æ•°æ®åŒæ­¥å·¥å…·ï¼Œæ·±åº¦é›†æˆ Apache SeaTunnelï¼Œæä¾›ä»è‡ªåŠ¨å»ºè¡¨ã€ä»»åŠ¡è°ƒåº¦åˆ°æ—¥å¿—ç›‘æ§çš„å…¨é“¾è·¯èƒ½åŠ›ï¼Œç•Œé¢ç›´è§‚ï¼ŒéæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ã€‚*

**[ğŸ’¡ åŠŸèƒ½å»ºè®®]()**

</div>

## è”ç³»æ–¹å¼
<img src="image/7c576a1fb21825bdb027c1db6b053e47.jpg" alt="link-up" width="180" height="240">

## é¡¹ç›®å®šä½
- æœ¬é¡¹ç›®å®šä½ä¸ºè½»é‡çº§å·¥å…·ï¼Œèšç„¦æ ¸å¿ƒåŠŸèƒ½ã€‚ä¸ºä¿æŒå…¶ç®€æ´ä¸é«˜æ•ˆï¼Œæˆ‘ä»¬æš‚ä¸å†…ç½®ç”¨æˆ·ã€æƒé™ç­‰ç³»ç»Ÿçº§æ¨¡å—ï¼Œä»¥ä¾¿å¼€å‘è€…æ›´çµæ´»åœ°è‡ªè¡Œé›†æˆã€‚

## ç½‘ç«™åœ°å€
- https://linkup.ocean-zhc.com.cn/data-integration/connector
- å¤šè°¢ã€ocean-zhcã€‘æä¾›çš„cloudflaredè½¬å‘æœåŠ¡

## ç³»ç»Ÿæ¶æ„
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/35ggUrFTLEJmyYgPw2MybXN4lOj.gif)

## æ ¸å¿ƒä¼˜åŠ¿
1. [**æç®€é…ç½®**]ï¼šä½ä»£ç ç•Œé¢ï¼Œé…ç½®æ•°æ®åŒæ­¥åƒå¡«è¡¨å•ä¸€æ ·ç®€å•ã€‚
2. [**æ’ä»¶æ‰©å±•**]ï¼šæ”¯æŒè‡ªå®šä¹‰æ’ä»¶æ‰©å±•ï¼Œæ— ç¼å¯¹æ¥å„ç±»æ•°æ®æºä¸ä¸šåŠ¡ç³»ç»Ÿã€‚
3. [**è°ƒåº¦ç®¡ç†**]ï¼šå†…ç½®é«˜å¯ç”¨è°ƒåº¦å¼•æ“ï¼Œç²¾å‡†æ§åˆ¶ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸä¸æ‰§è¡Œç­–ç•¥ã€‚
4. [**éš”ç¦»å†²çª**]ï¼šé‡‡ç”¨ç±»åŠ è½½å™¨éš”ç¦»æŠ€æœ¯ï¼Œæ ¹æ²»ç¬¬ä¸‰æ–¹é©±åŠ¨JARåŒ…å†²çªã€‚
5. [**è½»é‡é«˜å¹¶å‘**]ï¼šç²¾ç®€æ¶æ„ï¼Œæ”¯æ’‘ä¸‡çº§QPSï¼Œèµ„æºæœ€ä½éœ€2Core 4Gã€‚
6. [**å¯æ§ä¸è¶…æ ‡**]ï¼šåº”å¯¹äº¿çº§æ•°æ®åŒæ­¥ï¼Œå†…å­˜å ç”¨åšå†³ä½äº1GBã€‚
7. [**å†…ç½®å¯è§‚æµ‹**]ï¼šé›†æˆå¼€ç®±å³ç”¨çš„ç›‘æ§å¯è§†åŒ–ï¼Œæ— éœ€å¤æ‚é›†æˆPrometheusä¸Grafanaã€‚


## æ•°æ®æºæ”¯æŒæƒ…å†µ(å·²æ”¯æŒ14ç§)
| Sourceç«¯     | æ˜¯å¦æ”¯æŒ                                                          | Sinkç«¯   | æ˜¯å¦æ”¯æŒ    |
| --------------- | -------------------------------------------------------------------- | --------- | ---------- |
| MySQL | æ”¯æŒ | MySQL | æ”¯æŒ |
| Oracle| æ”¯æŒ | Oracle| æ”¯æŒ |
| PostgreSql| æ”¯æŒ | PostgreSql | æ”¯æŒ |
| SQLServer| æ”¯æŒ | SQLServer | æ”¯æŒ |
| MongoDB| æ”¯æŒ | MongoDB | æ”¯æŒ |
| DB2| æ”¯æŒ | DB2 | æ”¯æŒ |
| Cache| æ”¯æŒ | Cache| æ”¯æŒ |
| Elasticsearch7| æ”¯æŒ | Elasticsearch7 | æ”¯æŒ |
| OpenGauss| æ”¯æŒ | OpenGauss| æ”¯æŒ |
| DaMeng| æ”¯æŒ | DaMeng| æ”¯æŒ |
| Doris| æ”¯æŒ | Doris | æ”¯æŒ |
| HIVE3| æ”¯æŒ | HIVE3| æ”¯æŒ |
| StarRocks | æ”¯æŒ | StarRocks | æ”¯æŒ |
| ClickHouse| æ”¯æŒ | ClickHouse| æ”¯æŒ |

- å…¶ä»–æ•°æ®åº“ä¼šé™†ç»­æ”¯æŒï¼Œæ•¬è¯·æœŸå¾…~

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæ¡†æ¶
- **åç«¯æ¶æ„**ï¼šSpring Boot 2.7
- **æ•°æ®å­˜å‚¨**ï¼šMySQL 8.0
- **å‰ç«¯æŠ€æœ¯**ï¼šAntd5.x

## éƒ¨åˆ†æˆªå›¾
## æ•°æ®æºç®¡ç†
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/datasource4.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/datasource7.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/datasource9.png)
## æ•°æ®åŒæ­¥
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync5.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync2.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync3.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync6.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync7.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync8.png)
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/sync9.png)
## è¿è¡Œå†å²
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/history.png)
## ä»»åŠ¡è¿ç»´
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/task3.png)
## èµ„æºç›‘æ§
- åç»­è¿˜ä¼šæ‰©å±•æ›´å¤šèµ„æºä¿¡æ¯ï¼Œå¦‚æ“ä½œç³»ç»ŸæŒ‡æ ‡ä¿¡æ¯
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/monitor.png)


## ç‰ˆæœ¬è®¡åˆ’
### 1.0.0 æ•°æ®åŒæ­¥ï¼ˆè¿›è¡Œä¸­ï¼‰
### 2.0.0 æ™ºæ…§å»ºæ¨¡ï¼ˆå·²å®ç°ï¼Œæœªé›†æˆï¼‰
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/modal.png)
### 3.0.0 æ•°æ®å¼€å‘ï¼ˆå·²å®ç°ï¼Œæœªé›†æˆï¼‰
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/data-studio.png)
### 4.0.0 å·¥ä½œæµå¼•æ“ - å‰ç«¯ç•Œé¢è®¾è®¡çµæ„Ÿæºè‡ª Difyï¼Œæ³¨é‡ç°ä»£æ„Ÿä¸ç”¨æˆ·ä½“éªŒï¼›åç«¯åˆ™ä½¿ç”¨ Java æ„å»ºï¼Œç¡®ä¿ç³»ç»Ÿçš„é«˜æ€§èƒ½ä¸ç¨³å¥æ€§ã€‚ï¼ˆå·²å®ç°ï¼Œæœªé›†æˆï¼‰
![è¾“å…¥å›¾ç‰‡è¯´æ˜](image/workflow.png)

## éƒ¨ç½²æµç¨‹
### åç«¯ - å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„springbootæœåŠ¡
1. æ‰§è¡Œcockpit-persistentä¸‹é¢çš„sqlè¯­å¥
2. ä¿®æ”¹application.ymlä¸‹é¢çš„æ•°æ®åº“è¿æ¥ã€è´¦å·ã€å¯†ç 
3. ideä¸­æ‰§è¡Œè¿è¡Œå¯åŠ¨å³å¯
4. å¦‚æœæ˜¯linuxä¸­ï¼Œåˆ™java -jar å¯¹åº”çš„jaråŒ…ã€‚

### å‰ç«¯
### æœ¬åœ°è°ƒè¯•æ‰§è¡Œæµç¨‹
1. ä¸‹è½½node18.2.0ï¼Œç„¶åå®‰è£…yarnå‘½ä»¤ï¼Œç„¶åæ‰§è¡Œyarnå®‰è£…ä¾èµ–ï¼Œæœ€åæ‰§è¡Œyarn startå¯åŠ¨
### dockeréƒ¨ç½²æµç¨‹
2. npm run buildæ‰“åŒ…æˆdistæ–‡ä»¶
3. ç¼–å†™nginx.conf
```
#user  nobody;
worker_processes  1;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;
    sendfile        on;
    keepalive_timeout  65;
    client_max_body_size 200M;

    server {
        listen  80;
        listen  9001;
        server_name 127.0.0.1;

        location / {
            root   /usr/share/nginx/html;
            index  index.html index.htm;
            try_files $uri $uri/ /index.html;
        }

        location /api/ {
            proxy_pass http://127.0.0.1:9527;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }

        error_page   500 502 503 504  /50x.html;
        location = /50x.html {
            root   html;
        }
    }
}
```
### å‰ç«¯å¯åŠ¨å‘½ä»¤
```
docker run \
-d -p 9001:80 \
--name cockpit-ui \
--privileged=true \
--restart=always \
-v /opt/bigdata/fronted/nginx.conf:/etc/nginx/nginx.conf \
-v /opt/bigdata/fronted/dist:/usr/share/nginx/html \
nginx:latest

```

